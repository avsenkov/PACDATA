<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>A registration form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap для стилей -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  />
  <style>
    body { padding: 24px; }
    .rjsf { max-width: 860px; margin: 0 auto; }
    .actions { display: flex; justify-content: flex-end; margin-top: 12px; }
  </style>

  <!-- React + ReactDOM + rjsf (UMD) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@rjsf/core@5.16.2/dist/rjsf.umd.min.js"></script>
  <script src="https://unpkg.com/@rjsf/bootstrap-4@5.16.2/dist/rjsf.bootstrap-4.umd.min.js"></script>
</head>
<body>
  <div class="rjsf">
    <h3 class="mb-1">A registration form</h3>
    <div class="text-muted mb-3">A simple form example.</div>
    <div id="app"></div>
  </div>

  <script>
    async function loadJSON(path) {
      const r = await fetch(path, { cache: 'no-store' });
      return r.json();
    }

    (async function () {
      const schema = await loadJSON('./schema.json');
      const uiSchema = await loadJSON('./uiSchema.json');
      const formData = await loadJSON('./formData.json');

      const Form = window.RJSFCore.withTheme(window.RJSFBootstrap4.Theme);

      function App() {
        const onSubmit = ({ formData }) =>
          alert('Submitted:\n' + JSON.stringify(formData, null, 2));
        return React.createElement(
          Form,
          { schema, uiSchema, formData, onSubmit },
          React.createElement(
            'div',
            { className: 'actions' },
            React.createElement(
              'button',
              { type: 'submit', className: 'btn btn-primary' },
              'Submit'
            )
          )
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('app'));
      root.render(React.createElement(App));
    })();
  </script>
</body>
</html>
